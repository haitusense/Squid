### rsquid 0.0.2

- ```rsquid::as.image.data.frame()```
- ```rsquid::namedPipeAction()```

```{r}
library("ggplot2")
library("svglite")
library("imager")
library("dplyr")

width <- 160
height <- 120

value <- as.integer(rep(1:height, each = width))
src <- rsquid::as.image.data.frame(value, width, height)
plot(as.cimg(src))

rsquid::writeMemoryMappedFile("mmf_canvas", value)
rsquid::namedPipeAction("NamedPipe_canvas", "draw", NULL)
```

```{r}
p <- ggplot(filter(src, 30 == x), aes(y, value)) + geom_point()
svg <- rsquid::ggsave2svg(plot = p, width = 16, height = 9)

svg <- XML::removeAttributes(svg, "width")
svg <- XML::addAttributes(svg, "height" = "100%")

payload <- list(id = "plot_id", value = XML::saveXML(svg, indent = FALSE))
rsquid::namedPipeAction("NamedPipe_plot", "plot", payload);
```


