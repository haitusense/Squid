<html lang="en">
<head>
  <meta charset="UTF-8">
</head>

<body>
  <div>plot</div>
  <div id="plot_id" style="height: 320px;"></div>
</body>

<script>
const params = {
  pipe : "NamedPipe_plot"
};

// addEventListener webview message
window.chrome.webview.addEventListener('message', (e) => {
  let json = e.data;
  switch(json.type){
    case "message":
      console.log(`from cs ${json.type} : ${ConsoleColor.yellow(json.payload)}`);
      break;
    case "plot":
      document.getElementById(json.payload.id).innerHTML = json.payload.value;
      break;
    default:
      console.log(`from cs ${json.type}`);
      console.log(e);
  }
});

window.addEventListener('DOMContentLoaded', async () =>{
  chrome.webview.hostObjects.Squid.OpenNamedPipe(params.pipe);
});

</script>
</html>